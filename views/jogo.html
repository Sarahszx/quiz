<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quiz de Lógica</title>
  <link rel="stylesheet" href="../styles/jogo.css" />
</head>
<body>

  <a href="../index.html" class="voltar-menu">&#8592;</a>

  <div class="cronometro">
    ⏱️ <span>00:30</span>
  </div>

  <div class="quiz-container">
    <div class="quiz-header">
      <h1>Pergunta 1 de 10</h1>
    </div>
    <div class="quiz-body">
      <h2 id="pergunta"></h2>

      <div class="opções" id="opcoes"></div>

      <button class="botão-avançar" disabled>Próxima</button>
    </div>
  </div>

  <script>
    const perguntas = [
      {
        pergunta: "Qual é a função da tag <title> em um documento HTML?",
        opcoes: ["Exibir o título no corpo da página", "Definir o título que aparece na aba do navegador", "Adicionar uma legenda a uma imagem", "Criar um cabeçalho visível na pagina"],
        resposta: "b"
      },
      {
        pergunta: "Como se aplica uma cor de fundo azul a uma página com CSS?",
        opcoes: ["background-color: red;", "color: blue;", "bgcolor: blue;", "background-color: blue;"],
        resposta: "d"
      },
      {
        pergunta: "Qual é o operador usado para atribuição de valor em JavaScript?",
        opcoes: ["=", "==", "===", "=>"],
        resposta: "a"
      },
      {
        pergunta: "Qual propiedade CSS e usada para criar espaçamento entre elementos (por fora)",
        opcoes: ["padding", "spacing", "margin", "border"],
        resposta: "c"
      },
      {
        pergunta: "O que a função Math.floor(5.9) retorna?",
        opcoes: ["5.9", "6", "5", "Erro"],
        resposta: "c"
      },
      {
        pergunta: "Qual dessas estruturas é usada para repetir um bloco de código enquanto uma condição for verdadeira?",
        opcoes: ["for", "if", "switch", "while"],
        resposta: "d"
      },
      {
        pergunta: "O que diferencia TypeScript do JavaScript?",
        opcoes: ["TypeScript permite tipagem estática", "TypeScript não funciona em navegadores", "TypeScript é mais rápido", "TypeScript é usado apenas para back-end"],
        resposta: "a"
      },
      {
        pergunta: "Como centralizar um texto horizontalmente dentro de uma div com CSS?",
        opcoes: ["text-align: left;", "justify-content: center;", "text-align: center;", "align-items: center;"],
        resposta: "c"
      },
      {
        pergunta: "Qual a principal vantagem da tipagem estática em TypeScript?",
        opcoes: ["Facilita a edição de imagens", "Permite que o código rode mais devagar", "Evita muitos erros em tempo de execução ao detectar problemas antes de rodar o programa", "Substitui a necessidade de JavaScript"],
        resposta: "c"
      },
      {
        pergunta: "Em JavaScript, o que é closure??",
        opcoes: [" É uma função que lembra do escopo onde foi criada, mesmo após esse escopo ter sido finalizado", "É um erro que ocorre quando uma função não retorna nada", "É uma técnica usada para fechar conexões com o banco de dados", "É o mesmo que uma função recursiva"],
        resposta: "a"
      }
    ];

    const letras = ['a', 'b', 'c', 'd'];

    let perguntaAtual;

    const opcoesDiv = document.getElementById("opcoes");
    const perguntaH2 = document.getElementById("pergunta");
    const botaoAvancar = document.querySelector(".botão-avançar");

    function carregarPerguntaAleatoria() {
      perguntaAtual = perguntas[Math.floor(Math.random() * perguntas.length)];
      perguntaH2.innerText = perguntaAtual.pergunta;

      let opcoesHTML = "";
      for (let i = 0; i < perguntaAtual.opcoes.length; i++) {
        opcoesHTML += '<button class="opção" data-letra="' + letras[i] + '">' + letras[i] + ') ' + perguntaAtual.opcoes[i] + '</button>';
      }
      opcoesDiv.innerHTML = opcoesHTML;

      botaoAvancar.disabled = true;

      const botoes = opcoesDiv.querySelectorAll("button.opção");
      botoes.forEach(botao => {
        botao.onclick = () => {
          if (!botaoAvancar.disabled) return;

          const letraEscolhida = botao.getAttribute("data-letra");
          if (letraEscolhida === perguntaAtual.resposta) {
            botao.classList.add("correta");
          } else {
            botao.classList.add("errada");
            botoes.forEach(b => {
              if (b.getAttribute("data-letra") === perguntaAtual.resposta) {
                b.classList.add("correta");
              }
            });
          }

          botaoAvancar.disabled = false;
        };
      });
    }

    botaoAvancar.onclick = () => {
      carregarPerguntaAleatoria();
    };

    window.onload = carregarPerguntaAleatoria;
  </script>

</body>
</html>
